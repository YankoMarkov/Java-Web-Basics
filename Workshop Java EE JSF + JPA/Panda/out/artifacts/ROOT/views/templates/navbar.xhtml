<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition>
	<nav class="navbar navbar-expand-lg navbar-dark bg-panda">
		<h:link styleClass="navbar-brand nav-link-white" outcome="/index.xhtml" value="PANDA"/>
		<div class="collapse navbar-collapse d-flex justify-content-between" id="navbarNav">
			<c:choose>
				<c:when test="#{session.getAttribute('role') == 'ADMIN'}">
					<ul class="navbar-nav">
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active"
							        outcome="/views/packages/packagePending.xhtml"
							        value="Pending"/>
						</li>
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active"
							        outcome="/views/packages/packageShipped.xhtml"
							        value="Shipped"/>
						</li>
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active"
							        outcome="/views/packages/packageDelivered.xhtml"
							        value="Delivered"/>
						</li>
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active"
							        outcome="/views/packages/packageCreate.xhtml"
							        value="Package"/>
						</li>
					</ul>
				</c:when>
				<c:otherwise>
					<ul class="navbar-nav">
					</ul>
				</c:otherwise>
			</c:choose>
			<c:choose>
				<c:when test="#{session.getAttribute('username') != null}">
					<ul class="navbar-nav">
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active" outcome="/views/users/userHome.xhtml"
							        value="Home"/>
						</li>
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active" outcome="/views/receipts/receipt.xhtml"
							        value="Receipts"/>
						</li>
						<li class="nav-item">
							<h:form>
								<h:commandLink styleClass="nav-link nav-link-white active"
								               action="#{userLogoutBean.logoutUser}" value="Logout"/>
							</h:form>
						</li>
					</ul>
				</c:when>
				<c:otherwise>
					<ul class="navbar-nav">
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active" outcome="/index.xhtml" value="Home"/>
						</li>
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active" outcome="/views/users/userLogin.xhtml"
							        value="Login"/>
						</li>
						<li class="nav-item">
							<h:link styleClass="nav-link nav-link-white active"
							        outcome="/views/users/userRegister.xhtml"
							        value="Register"/>
						</li>
					</ul>
				</c:otherwise>
			</c:choose>
		</div>
	</nav>
</ui:composition>

</html>